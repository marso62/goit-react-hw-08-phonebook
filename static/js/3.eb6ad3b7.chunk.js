(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{105:function(t,e,n){},107:function(t,e,n){},108:function(t,e,n){t.exports={Contact_form:"ContactForm_Contact_form__9cbYX"}},109:function(t,e,n){},112:function(t,e,n){"use strict";n.r(e);var a=n(30),r=n(31),c=n(33),o=n(32),u=n(0),i=n.n(u),s=n(13),l=n(113),m=n(36),f=n.n(m),p=(n(49),n(102)),h=n(16),C=n.n(h),b=n(20),d=n(18),v=n.n(d),E=n(9);v.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var g={fetchContacts:function(){return function(){var t=Object(b.a)(C.a.mark((function t(e){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(E.a.fetchContactsRequest()),t.next=3,v.a.get("/contacts").then((function(t){e(E.a.fetchContactsSuccess(t.data))})).catch((function(t){return e(E.a.fetchContactsError(t))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addContact:function(t){var e=t.name,n=t.number;return function(){var t=Object(b.a)(C.a.mark((function t(a){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(E.a.addContactsRequest()),t.next=3,v.a.post("/contacts",{name:e,number:n}).then((function(t){var e=t.data;return a(E.a.addContactsSuccess(e))})).catch((function(t){return a(E.a.addContactsError(t))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},removeContacts:function(t){return function(){var e=Object(b.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(E.a.removeContactsRequest()),e.next=3,v.a.delete("/contacts/".concat(t)).then((function(){return n(E.a.removeContactsSuccess(t))})).catch((function(t){return n(E.a.removeContactsError(t))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},N=n(24),O=function(t){return t.contacts.items},y=function(t){return t.contacts.filter},j={getLoading:function(t){return t.contacts.loading},getFilter:y,getVisibleContacts:Object(N.a)([O,y],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),getContacts:O,getContactByID:Object(N.a)([function(t,e){return e},O],(function(t,e){return e.find((function(e){return e.id===t}))}))},x=(n(107),Object(s.b)((function(t,e){return t.contacts.items.length>4?{isContact:!0,nameContact:10}:{isContact:!1}}),null)((function(t){var e=t.text;return i.a.createElement(l.a,{in:!0,appear:!0,timeout:500,classNames:"anim",unmountOnExit:!0},i.a.createElement("div",{className:"alert"},e))}))),k=n(108),w=n.n(k),F={nameContact:"",numberContact:""},_=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state=F,t.inputName=function(e){var n=e.target;t.setState({nameContact:n.value})},t.inputNumber=function(e){var n=e.target;t.setState({numberContact:n.value})},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.nameContact,r=n.numberContact;(0,t.props.onAddContact)(a,r),t.setState(Object(p.a)({},F))},t}return Object(r.a)(n,[{key:"render",value:function(){var t=this.state,e=t.nameContact,n=t.numberContact,a=this.props.itemsArray.map((function(t){return t.name.toLowerCase()})).includes(e.toLowerCase());return i.a.createElement(i.a.Fragment,null,a&&i.a.createElement(x,{text:"Contact already exist"}),i.a.createElement("form",{onSubmit:this.handleSubmit,className:w.a.Contact_form},i.a.createElement("label",null,"Name",i.a.createElement("input",{className:w.a.inputName,type:"text",value:e,onChange:this.inputName})),i.a.createElement("label",null,"Number",i.a.createElement("input",{placeholder:"XXX-XX-XX",type:"tel",pattern:"[0-9]{3}-[0-9]{2}-[0-9]{2}",value:n,onChange:this.inputNumber})),i.a.createElement("button",{type:"submit"},"ADD CONTACT")))}}]),n}(u.Component),D=Object(s.b)((function(t){return{itemsArray:j.getContacts(t)}}),(function(t){return{onAddContact:function(e,n){return t(g.addContact({name:e,number:n}))}}}))(_),L=n(114),S=(n(105),Object(s.b)((function(t,e){var n=e.id;return Object(p.a)({},j.getContactByID(t,n))}),(function(t,e){var n=e.id;return{onDeleteContact:function(){return t(g.removeContacts(n))}}}))((function(t){var e=t.name,n=t.number,a=t.onDeleteContact;return i.a.createElement("li",{className:"phone_Item"},i.a.createElement("span",{className:"phone_name"},e),i.a.createElement("span",{className:"phone_number"},n),i.a.createElement("button",{type:"button",onClick:a}))}))),X=Object(s.b)((function(t){return{contacts:j.getVisibleContacts(t)}}),null)((function(t){var e=t.contacts,n=0===e.length;return i.a.createElement(i.a.Fragment,null,n&&i.a.createElement(x,{text:"No have contact"}),i.a.createElement(L.a,{component:"ul",className:"contact_list"},e.map((function(t){var e=t.id;return i.a.createElement(l.a,{key:e,timeout:250,classNames:"list"},i.a.createElement(S,{id:e}))}))))})),A=(n(109),{inputFilter:E.a.changeFilter}),R=Object(s.b)((function(t){return j.getContacts(t).length>1?{value:j.getFilter(t),isContact:!0}:{value:j.getFilter(t)}}),A)((function(t){var e=t.value,n=t.inputFilter,a=t.isContact;return i.a.createElement(i.a.Fragment,null,a&&i.a.createElement(l.a,{in:!0,appear:!0,classNames:"find",timeout:500,unmountOnExit:!0},i.a.createElement("div",{className:"findContact"},i.a.createElement("p",null,"Find contacts by name or number"),i.a.createElement("input",{className:"inputName",type:"text",value:e,onChange:function(t){var e=t.target;return n(e.value)}}))))})),q=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"phoneBook_container"},i.a.createElement(l.a,{in:!0,appear:!0,classNames:"title_anim",timeout:500,unmountOnExit:!0},i.a.createElement("h1",{className:"title"},"Phonebook")),i.a.createElement(l.a,{in:!0,appear:!0,classNames:"form_fade",timeout:500,unmountOnExit:!0},i.a.createElement(D,null)),i.a.createElement(R,null),this.props.isLoadingContacts&&i.a.createElement(f.a,{type:"ThreeDots",color:"#f5f505",height:50,width:100,timeout:3e3}),i.a.createElement(X,null)))}}]),n}(u.Component),B={onFetchContacts:g.fetchContacts};e.default=Object(s.b)((function(t){return{isLoadingContacts:j.getLoading(t)}}),B)(q)}}]);
//# sourceMappingURL=3.eb6ad3b7.chunk.js.map